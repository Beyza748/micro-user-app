<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Country & Holidays</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<h1>ğŸŒ Country & Holiday Explorer</h1>

<div id="countries"></div>
<div id="holidays"></div>

<script>
fetch("/api/countries")
  .then(r => r.json())
  .then(data => {
    document.getElementById("countries").innerHTML =
      data.map(c =>
        `<div class="card" onclick="loadHolidays('${c.code}')">
          <img src="${c.flag}">
          <h3>${c.name}</h3>
          <p>BaÅŸkent: ${c.capital}</p>
          <p>NÃ¼fus: ${c.population.toLocaleString()}</p>
        </div>`
      ).join("")
  })

function loadHolidays(code) {
  fetch(`/api/holidays?code=${code}`)
    .then(r => r.json())
    .then(data => {
      document.getElementById("holidays").innerHTML =
        "<h2>ğŸ“… ResmÃ® Tatiller</h2>" +
        data.map(h =>
          `<p>${h.date} â€“ ${h.name}</p>`
        ).join("")
    })
}
</script>

</body>
</html>
